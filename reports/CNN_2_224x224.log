Traceback (most recent call last):
  File "C:\Users\Martin\anaconda3\envs\py37\lib\site-packages\jupyter_cache\executors\utils.py", line 56, in single_nb_execution
    record_timing=False,
  File "C:\Users\Martin\anaconda3\envs\py37\lib\site-packages\nbclient\client.py", line 1112, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "C:\Users\Martin\anaconda3\envs\py37\lib\site-packages\nbclient\util.py", line 74, in wrapped
    return just_run(coro(*args, **kwargs))
  File "C:\Users\Martin\anaconda3\envs\py37\lib\site-packages\nbclient\util.py", line 53, in just_run
    return loop.run_until_complete(coro)
  File "C:\Users\Martin\anaconda3\envs\py37\lib\asyncio\base_events.py", line 587, in run_until_complete
    return future.result()
  File "C:\Users\Martin\anaconda3\envs\py37\lib\site-packages\nbclient\client.py", line 554, in async_execute
    cell, index, execution_count=self.code_cells_executed + 1
  File "C:\Users\Martin\anaconda3\envs\py37\lib\site-packages\nbclient\client.py", line 857, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "C:\Users\Martin\anaconda3\envs\py37\lib\site-packages\nbclient\client.py", line 760, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
eval = model.evaluate(X_test,y_test,verbose=0,return_dict=True)
loss_eval = eval['loss']
glue("loss_eval", loss_eval, display=False)
acc_eval = eval['accuracy']
glue("acc_eval", acc_eval, display=False)
------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mRuntimeError[0m                              Traceback (most recent call last)
[1;32m~\AppData\Local\Temp/ipykernel_28648/4247382325.py[0m in [0;36m<module>[1;34m[0m
[1;32m----> 1[1;33m [0meval[0m [1;33m=[0m [0mmodel[0m[1;33m.[0m[0mevaluate[0m[1;33m([0m[0mX_test[0m[1;33m,[0m[0my_test[0m[1;33m,[0m[0mverbose[0m[1;33m=[0m[1;36m0[0m[1;33m,[0m[0mreturn_dict[0m[1;33m=[0m[1;32mTrue[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0m[0;32m      2[0m [0mloss_eval[0m [1;33m=[0m [0meval[0m[1;33m[[0m[1;34m'loss'[0m[1;33m][0m[1;33m[0m[1;33m[0m[0m
[0;32m      3[0m [0mglue[0m[1;33m([0m[1;34m"loss_eval"[0m[1;33m,[0m [0mloss_eval[0m[1;33m,[0m [0mdisplay[0m[1;33m=[0m[1;32mFalse[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0;32m      4[0m [0macc_eval[0m [1;33m=[0m [0meval[0m[1;33m[[0m[1;34m'accuracy'[0m[1;33m][0m[1;33m[0m[1;33m[0m[0m
[0;32m      5[0m [0mglue[0m[1;33m([0m[1;34m"acc_eval"[0m[1;33m,[0m [0macc_eval[0m[1;33m,[0m [0mdisplay[0m[1;33m=[0m[1;32mFalse[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m

[1;32m~\anaconda3\envs\py37\lib\site-packages\tensorflow\python\keras\engine\training.py[0m in [0;36m_method_wrapper[1;34m(self, *args, **kwargs)[0m
[0;32m    106[0m   [1;32mdef[0m [0m_method_wrapper[0m[1;33m([0m[0mself[0m[1;33m,[0m [1;33m*[0m[0margs[0m[1;33m,[0m [1;33m**[0m[0mkwargs[0m[1;33m)[0m[1;33m:[0m[1;33m[0m[1;33m[0m[0m
[0;32m    107[0m     [1;32mif[0m [1;32mnot[0m [0mself[0m[1;33m.[0m[0m_in_multi_worker_mode[0m[1;33m([0m[1;33m)[0m[1;33m:[0m  [1;31m# pylint: disable=protected-access[0m[1;33m[0m[1;33m[0m[0m
[1;32m--> 108[1;33m       [1;32mreturn[0m [0mmethod[0m[1;33m([0m[0mself[0m[1;33m,[0m [1;33m*[0m[0margs[0m[1;33m,[0m [1;33m**[0m[0mkwargs[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0m[0;32m    109[0m [1;33m[0m[0m
[0;32m    110[0m     [1;31m# Running inside `run_distribute_coordinator` already.[0m[1;33m[0m[1;33m[0m[1;33m[0m[0m

[1;32m~\anaconda3\envs\py37\lib\site-packages\tensorflow\python\keras\engine\training.py[0m in [0;36mevaluate[1;34m(self, x, y, batch_size, verbose, sample_weight, steps, callbacks, max_queue_size, workers, use_multiprocessing, return_dict)[0m
[0;32m   1333[0m     [0m_keras_api_gauge[0m[1;33m.[0m[0mget_cell[0m[1;33m([0m[1;34m'evaluate'[0m[1;33m)[0m[1;33m.[0m[0mset[0m[1;33m([0m[1;32mTrue[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0;32m   1334[0m     [0mversion_utils[0m[1;33m.[0m[0mdisallow_legacy_graph[0m[1;33m([0m[1;34m'Model'[0m[1;33m,[0m [1;34m'evaluate'[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[1;32m-> 1335[1;33m     [0mself[0m[1;33m.[0m[0m_assert_compile_was_called[0m[1;33m([0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0m[0;32m   1336[0m     [0mself[0m[1;33m.[0m[0m_check_call_args[0m[1;33m([0m[1;34m'evaluate'[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0;32m   1337[0m     [0m_disallow_inside_tf_function[0m[1;33m([0m[1;34m'evaluate'[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m

[1;32m~\anaconda3\envs\py37\lib\site-packages\tensorflow\python\keras\engine\training.py[0m in [0;36m_assert_compile_was_called[1;34m(self)[0m
[0;32m   2567[0m     [1;31m# (i.e. whether the model is built and its inputs/outputs are set).[0m[1;33m[0m[1;33m[0m[1;33m[0m[0m
[0;32m   2568[0m     [1;32mif[0m [1;32mnot[0m [0mself[0m[1;33m.[0m[0m_is_compiled[0m[1;33m:[0m[1;33m[0m[1;33m[0m[0m
[1;32m-> 2569[1;33m       raise RuntimeError('You must compile your model before '
[0m[0;32m   2570[0m                          [1;34m'training/testing. '[0m[1;33m[0m[1;33m[0m[0m
[0;32m   2571[0m                          'Use `model.compile(optimizer, loss)`.')

[1;31mRuntimeError[0m: You must compile your model before training/testing. Use `model.compile(optimizer, loss)`.
RuntimeError: You must compile your model before training/testing. Use `model.compile(optimizer, loss)`.

